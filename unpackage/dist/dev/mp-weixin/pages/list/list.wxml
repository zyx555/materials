<page-meta page-style="{{'overflow:'+(show?'hidden':'visible')}}"></page-meta><view class="wrapper"><view class="shell"><view class="example-body box"><view data-event-opts="{{[['tap',[['toggle',['left']]]]]}}" bindtap="__e"><image class="classification" src="../../static/iconPark-application-two.png"></image></view></view><form data-event-opts="{{[['submit',[['formSubmit',['$event']]]]]}}" style="margin-top:-10px;" bindsubmit="__e"><input class="searchInput" name="name" placeholder="请输入项目名称"/><button class="searchButton" form-type="submit">搜索</button></form></view><view style="height:57px;width:100%;"></view><view><uni-popup class="vue-ref" vue-id="2e637200-1" background-color="#fff" data-ref="popup" data-event-opts="{{[['^change',[['changePopup']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><view><scroll-view style="{{'height:'+('671px')+';'+('background-color:'+('#2784FF')+';')}}" scroll-top="{{scrollTop}}" scroll-y="true" refresher-enabled="true" refresher-triggered="{{trigger}}" show-scrollbar="false" data-event-opts="{{[['scroll',[['scroll',['$event']]]],['refresherrefresh',[['onRefresh',['$event']]]]]}}" bindscroll="__e" bindrefresherrefresh="__e"><view class="{{['popup-content',(type==='left'||type==='right')?'popup-height':'']}}"><block wx:for="{{classify}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view class="classificationItem" index="{{index}}" data-event-opts="{{[['tap',[['classification',['$0'],[[['classify','',index,'id']]]]]]]}}" bindtap="__e"><view class="classificationNumber">{{index+1}}</view><view class="classficationTitle">{{item.name}}</view><view class="classficationDescription">{{item.description||''}}</view></view></block><view data-event-opts="{{[['tap',[['getServiceFee',['$event']]]]]}}" class="classificationItem" bindtap="__e"><view class="classificationNumber" style="background-color:#1FDB0C;color:white;">{{total}}</view><view class="classficationTitle">服务费</view></view><view style="width:100%;height:25px;"></view></view></scroll-view></view></uni-popup><view><block wx:if="{{loadingFlag==1}}"><view>数据加载中...</view></block><block wx:if="{{loadingFlag==2}}"><view>没有更多的数据...</view></block></view></view><view><block wx:if="{{serviceFlag==false}}"><view><block wx:for="{{commodities}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view><view class="classficationName"><text>{{item.classificationName}}</text></view><block wx:for="{{item.childs}}" wx:for-item="child" wx:for-index="id" wx:key="id"><uni-list vue-id="{{'2e637200-2-'+index+'-'+id}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-list-item vue-id="{{('2e637200-3-'+index+'-'+id)+','+('2e637200-2-'+index+'-'+id)}}" clickable="true" bind:__l="__l" vue-slots="{{['body','footer']}}"><view style="width:74%;" slot="body"><view data-event-opts="{{[['tap',[['dialogToggle',['info',id,'$0','$1','$2','$3'],[[['commodities','',index],['childs','',id,'name']],[['commodities','',index],['childs','',id,'specification']],[['commodities','',index],['childs','',id,'price']],[['commodities','',index],['childs','',id,'description']]]]]]]}}" style="width:90%;" bindtap="__e"><text>{{child.specification||''}}</text></view><view data-event-opts="{{[['tap',[['dialogToggle',['info',id,'$0','$1','$2','$3'],[[['commodities','',index],['childs','',id,'name']],[['commodities','',index],['childs','',id,'specification']],[['commodities','',index],['childs','',id,'price']],[['commodities','',index],['childs','',id,'description']]]]]]]}}" style="width:90%;font-weight:300;font-size:13px;" bindtap="__e"><text>{{child.name}}</text></view></view><view slot="footer"><view class="commodityPrice"><text>{{"￥"+child.price}}</text></view><image class="shoppingCar" src="/static/shoppingCar.png" mode="widthFix" data-event-opts="{{[['tap',[['addToPrice',['$0'],[[['commodities','',index],['childs','',id,'id']]]]]]]}}" bindtap="__e"></image></view></uni-list-item><view><uni-popup class="vue-ref-in-for" vue-id="{{('2e637200-4-'+index+'-'+id)+','+('2e637200-2-'+index+'-'+id)}}" type="dialog" data-ref="alertDialog" bind:__l="__l" vue-slots="{{['default']}}"><uni-popup-dialog vue-id="{{('2e637200-5-'+index+'-'+id)+','+('2e637200-4-'+index+'-'+id)}}" type="{{msgType}}" cancelText="关闭" confirmText="确定" title="项目详情" data-event-opts="{{[['^confirm',[['dialogConfirm']]],['^close',[['dialogClose']]]]}}" bind:confirm="__e" bind:close="__e" bind:__l="__l" vue-slots="{{['default']}}"><form><input/>{{"项目名称："+child.name}}<input/>{{"规格类型："+(child.specification||'')}}<input/>{{"项目价格："+child.price}}<input/>{{"项目描述："+(child.description||'')}}</form></uni-popup-dialog></uni-popup></view></uni-list></block></view></block></view></block><block wx:if="{{serviceFlag==true}}"><view><view class="classficationName">服务费</view><block wx:for="{{serviceFee}}" wx:for-item="item" wx:for-index="index" wx:key="index"><uni-list vue-id="{{'2e637200-6-'+index}}" bind:__l="__l" vue-slots="{{['default']}}"><uni-list-item vue-id="{{('2e637200-7-'+index)+','+('2e637200-6-'+index)}}" bind:__l="__l" vue-slots="{{['header','body','footer']}}"><view slot="header">{{item.serviceChargeName}}</view><view style="margin-left:55%;position:absolute;color:#FE6104;" slot="body">{{item.expenseRatio+"%"}}</view><image class="slot-image" src="/static/shoppingCar.png" mode="widthFix" data-event-opts="{{[['tap',[['addServiceToPrice',['$0'],[[['serviceFee','',index,'id']]]]]]]}}" bindtap="__e" slot="footer"></image></uni-list-item></uni-list></block></view></block></view><uni-popup class="vue-ref" style="background-color:#515151;" bind:change="__e" vue-id="2e637200-8" data-ref="popUp" data-event-opts="{{[['^change',[['change']]]]}}" bind:__l="__l" vue-slots="{{['default']}}"><view class="{{[(type==='left'||type==='right')?'popup-height':'']}}" style="background-color:#515151;width:120px;height:45px;display:flex;justify-content:center;align-items:center;border-radius:5px;"><text style="color:white;">{{messageText}}</text></view></uni-popup></view>